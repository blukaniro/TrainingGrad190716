/*190716 田島亮介このImageJマクロは平成29年度複合生態フィールド科学専門実習に配布するものです．実習用なので測定コードは簡素化されています．実研究にそのまま利用できるものではないと考えてください．なお著作権は放棄しません．*///被度を測定する．macro "Cover" {    run("Split Channels");    selectImage(1);    close();    selectImage(2);    close();    run("Invert");    setAutoThreshold("MaxEntropy");    run("Threshold", "thresholded remaining black");    run("Analyze Particles...", "size=100-Infinity circularity=0.00-1.00 show=Nothing");    TotalArea=0;    for (i=0; i<nResults; i++) {        TotalArea+=getResult("Area", i);        }    run("Clear Results");    width=getWidth();    height = getHeight();    CanopyPercent=TotalArea/(width*height)*100;    print (CanopyPercent);    }//葉面積を測定する．macro "LeafArea" {    run("8-bit");    setAutoThreshold("Default");    run("Threshold", "thresholded remaining black");    run("Analyze Particles...", "size=100-Infinity circularity=0.00-1.00 show=Nothing");    TotalArea=0;    for (i=0; i<nResults; i++) {        TotalArea+=getResult("Area", i);        }    run("Clear Results");    Area=TotalArea/150/150*2.54*2.54;    print (Area);    }//根長を測定する．macro "RootLength" {    setAutoThreshold("Triangle");    run("Threshold", "thresholded remaining black");    run("Erode");    run("Skeletonize");    run("Analyze Particles...", "size=2-Infinity circularity=0.00-1.00 show=Nothing");    TotalArea=0;    for (i=0; i<nResults; i++) {        TotalArea+=getResult("Area", i);        }    run("Clear Results");    RootLength=TotalArea*1.1/400*2.54;    print (RootLength);    }